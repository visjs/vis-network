<html>
  <head>
    <meta charset="utf-8" />
    <title>Vis Network | Other | Clustering Clusters</title>
  </head>
  <body>
    <form
      id="form"
      action="https://codepen.io/pen/define"
      method="post"
      target="_self"
    >
      <input
        type="hidden"
        name="data"
        value='{"css":"#mynetwork {\n  width: 1000px;\n  height: 800px;\n  border: 1px solid lightgray;\n}\n","css_external":"","html":"<p>\n  Clusters can contain other clusters, but clusters of a single node is only\n  possible by adding\n</p>\n<pre>allowSingleNodeCluster: true</pre>\n<p>\n  to clusterNodeProperties<br />\n  In this example repeatedly clicking on the node with open the Clusters.\n</p>\n<div id=\"mynetwork\"></div>\n<div id=\"info\"></div>\n","js":"var network;\n\nvar node_color = [\"orange\", \"green\", \"red\", \"yellow\", \"cyan\"];\nvar node_shape = [\"star\", \"database\", \"diamond\", \"square\", \"triangle\"];\nvar nodes = new vis.DataSet([\n  { id: \"x\", label: \"Node X\" },\n  { id: \"y\", label: \"Node Y\" },\n]);\nvar network_options = {};\nvar edges = new vis.DataSet([{ from: \"x\", to: \"y\" }]);\n\nvar cluster_id = 1;\n\nfunction draw() {\n  network = new vis.Network(\n    document.getElementById(\"mynetwork\"),\n    {\n      nodes: nodes,\n      edges: edges,\n    },\n    network_options,\n  );\n  network.on(\"click\", function (params) {\n    if (params.nodes.length == 1) {\n      if (network.isCluster(params.nodes[0]) == true) {\n        network.openCluster(params.nodes[0]);\n      }\n    }\n  });\n  cluster();\n  cluster();\n  cluster();\n}\n\nfunction cluster() {\n  var clusterOptions = {\n    joinCondition: function (childOptions) {\n      console.log(childOptions);\n      return true;\n    },\n    clusterNodeProperties: {\n      id: cluster_id,\n      label: \"Cluster \" + cluster_id,\n      color: node_color[cluster_id - 1],\n      shape: node_shape[cluster_id - 1],\n      allowSingleNodeCluster: true,\n    },\n  };\n  cluster_id++;\n  network.cluster(clusterOptions);\n}\n\nwindow.addEventListener(\"load\", () => {\n  draw();\n});\n","js_external":"https://visjs.github.io/vis-network/standalone/umd/vis-network.min.js","title":"Vis Network | Other | Clustering Clusters"}'
      />
      <button id="open" alt="JSFiddle" title="JSFiddle">Open CodePen</button>
    </form>

    <script type="text/javascript">
      document.getElementById("open").click();
    </script>
  </body>
</html>
