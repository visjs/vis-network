<html>
  <head>
    <meta charset="utf-8" />
    <title>Vis Network | Manipulation | Edit Edge Without Drag</title>
  </head>
  <body>
    <form
      id="form"
      action="https://jsfiddle.net/api/post/library/pure/"
      method="post"
      target="_self"
    >
      <input
        type="hidden"
        name="css"
        value="body,
select {
  font: 10pt sans;
}
#mynetwork {
  position: relative;
  width: 800px;
  height: 600px;
  border: 1px solid lightgray;
}
table.legend_table {
  font-size: 11px;
  border-width: 1px;
  border-color: #d3d3d3;
  border-style: solid;
}
table.legend_table,
td {
  border-width: 1px;
  border-color: #d3d3d3;
  border-style: solid;
  padding: 2px;
}
div.table_content {
  width: 80px;
  text-align: center;
}
div.table_description {
  width: 100px;
}

#operation {
  font-size: 28px;
}
#node-popUp {
  display: none;
  position: absolute;
  top: 350px;
  left: 170px;
  z-index: 299;
  width: 250px;
  height: 120px;
  background-color: #f9f9f9;
  border-style: solid;
  border-width: 3px;
  border-color: #5394ed;
  padding: 10px;
  text-align: center;
}
#edge-popUp {
  display: none;
  position: absolute;
  top: 350px;
  left: 170px;
  z-index: 299;
  width: 250px;
  height: 90px;
  background-color: #f9f9f9;
  border-style: solid;
  border-width: 3px;
  border-color: #5394ed;
  padding: 10px;
  text-align: center;
}
"
      />
      <input
        type="hidden"
        name="html"
        value='&lt;h2&gt;Editing the nodes and edges-without-drag (localized)&lt;/h2&gt;
&lt;p style="width: 700px; font-size: 14px; text-align: justify;"&gt;
  The localization is only relevant to the manipulation buttons.
&lt;/p&gt;

&lt;p&gt;
  &lt;label for="locale"&gt;Select a locale:&lt;/label&gt;
  &lt;select id="locale" onchange="draw();"&gt;
    &lt;option value="en"&gt;en&lt;/option&gt;
    &lt;option value="cn"&gt;cn&lt;/option&gt;
    &lt;option value="cs"&gt;cs&lt;/option&gt;
    &lt;option value="de"&gt;de&lt;/option&gt;
    &lt;option value="es"&gt;es&lt;/option&gt;
    &lt;option value="fr"&gt;fr&lt;/option&gt;
    &lt;option value="it"&gt;it&lt;/option&gt;
    &lt;option value="nl"&gt;nl&lt;/option&gt;
    &lt;option value="pt-br"&gt;pt&lt;/option&gt;
    &lt;option value="ru"&gt;ru&lt;/option&gt;
    &lt;option value="uk"&gt;uk&lt;/option&gt;
  &lt;/select&gt;
&lt;/p&gt;

&lt;div id="node-popUp"&gt;
  &lt;span id="node-operation"&gt;node&lt;/span&gt; &lt;br /&gt;
  &lt;table style="margin: auto;"&gt;
    &lt;tbody&gt;
      &lt;tr&gt;
        &lt;td&gt;id&lt;/td&gt;
        &lt;td&gt;&lt;input id="node-id" value="new value" /&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td&gt;label&lt;/td&gt;
        &lt;td&gt;&lt;input id="node-label" value="new value" /&gt;&lt;/td&gt;
      &lt;/tr&gt;
    &lt;/tbody&gt;
  &lt;/table&gt;
  &lt;input type="button" value="save" id="node-saveButton" /&gt;
  &lt;input type="button" value="cancel" id="node-cancelButton" /&gt;
&lt;/div&gt;

&lt;div id="edge-popUp"&gt;
  &lt;span id="edge-operation"&gt;edge&lt;/span&gt; &lt;br /&gt;
  &lt;table style="margin: auto;"&gt;
    &lt;tbody&gt;
      &lt;tr&gt;
        &lt;td&gt;label&lt;/td&gt;
        &lt;td&gt;&lt;input id="edge-label" value="new value" /&gt;&lt;/td&gt;
      &lt;/tr&gt;
    &lt;/tbody&gt;
  &lt;/table&gt;
  &lt;input type="button" value="save" id="edge-saveButton" /&gt;
  &lt;input type="button" value="cancel" id="edge-cancelButton" /&gt;
&lt;/div&gt;

&lt;br /&gt;
&lt;div id="mynetwork"&gt;&lt;/div&gt;
'
      />
      <input
        type="hidden"
        name="js"
        value='var nodes = null;
var edges = null;
var network = null;
// randomly create some nodes and edges
var data = getScaleFreeNetwork(25);
var seed = 2;

function setDefaultLocale() {
  var defaultLocal = navigator.language;
  var select = document.getElementById("locale");
  select.selectedIndex = 0; // set fallback value
  for (var i = 0, j = select.options.length; i &lt; j; ++i) {
    if (select.options[i].getAttribute("value") === defaultLocal) {
      select.selectedIndex = i;
      break;
    }
  }
}

function destroy() {
  if (network !== null) {
    network.destroy();
    network = null;
  }
}

function draw() {
  destroy();
  nodes = [];
  edges = [];

  // create a network
  var container = document.getElementById("mynetwork");
  var options = {
    layout: { randomSeed: seed }, // just to make sure the layout is the same when the locale is changed
    locale: document.getElementById("locale").value,
    manipulation: {
      addNode: function (data, callback) {
        // filling in the popup DOM elements
        document.getElementById("node-operation").innerHTML = "Add Node";
        editNode(data, clearNodePopUp, callback);
      },
      editNode: function (data, callback) {
        // filling in the popup DOM elements
        document.getElementById("node-operation").innerHTML = "Edit Node";
        editNode(data, cancelNodeEdit, callback);
      },
      addEdge: function (data, callback) {
        if (data.from == data.to) {
          var r = confirm("Do you want to connect the node to itself?");
          if (r != true) {
            callback(null);
            return;
          }
        }
        document.getElementById("edge-operation").innerHTML = "Add Edge";
        editEdgeWithoutDrag(data, callback);
      },
      editEdge: {
        editWithoutDrag: function (data, callback) {
          document.getElementById("edge-operation").innerHTML = "Edit Edge";
          editEdgeWithoutDrag(data, callback);
        },
      },
    },
  };
  network = new vis.Network(container, data, options);
}

function editNode(data, cancelAction, callback) {
  document.getElementById("node-label").value = data.label;
  document.getElementById("node-saveButton").onclick = saveNodeData.bind(
    this,
    data,
    callback
  );
  document.getElementById("node-cancelButton").onclick = cancelAction.bind(
    this,
    callback
  );
  document.getElementById("node-popUp").style.display = "block";
}

// Callback passed as parameter is ignored
function clearNodePopUp() {
  document.getElementById("node-saveButton").onclick = null;
  document.getElementById("node-cancelButton").onclick = null;
  document.getElementById("node-popUp").style.display = "none";
}

function cancelNodeEdit(callback) {
  clearNodePopUp();
  callback(null);
}

function saveNodeData(data, callback) {
  data.label = document.getElementById("node-label").value;
  clearNodePopUp();
  callback(data);
}

function editEdgeWithoutDrag(data, callback) {
  // filling in the popup DOM elements
  document.getElementById("edge-label").value = data.label;
  document.getElementById("edge-saveButton").onclick = saveEdgeData.bind(
    this,
    data,
    callback
  );
  document.getElementById("edge-cancelButton").onclick = cancelEdgeEdit.bind(
    this,
    callback
  );
  document.getElementById("edge-popUp").style.display = "block";
}

function clearEdgePopUp() {
  document.getElementById("edge-saveButton").onclick = null;
  document.getElementById("edge-cancelButton").onclick = null;
  document.getElementById("edge-popUp").style.display = "none";
}

function cancelEdgeEdit(callback) {
  clearEdgePopUp();
  callback(null);
}

function saveEdgeData(data, callback) {
  if (typeof data.to === "object") data.to = data.to.id;
  if (typeof data.from === "object") data.from = data.from.id;
  data.label = document.getElementById("edge-label").value;
  clearEdgePopUp();
  callback(data);
}

function init() {
  setDefaultLocale();
  draw();
}

window.addEventListener("load", () =&gt; {
  init();
});
'
      />
      <input
        type="hidden"
        name="resources"
        value="https://visjs.github.io/vis-network/standalone/umd/vis-network.min.js,https://unpkg.com/alea@1.0.0/alea.js,https://visjs.github.io/vis-network/examples/network/exampleUtil.js"
      />
      <input
        type="hidden"
        name="title"
        value="Vis Network | Manipulation | Edit Edge Without Drag"
      />
      <input type="hidden" name="wrap" value="b" />
      <button id="open" alt="JSFiddle" title="JSFiddle">
        Open JSFiddle
      </button>
    </form>

    <script type="text/javascript">
      document.getElementById("open").click();
    </script>
  </body>
</html>
