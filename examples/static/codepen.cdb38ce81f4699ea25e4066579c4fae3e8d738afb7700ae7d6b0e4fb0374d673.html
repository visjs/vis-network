<html>
  <head>
    <meta charset="utf-8" />
    <title>Vis Network | Other | Popups</title>
  </head>
  <body>
    <form
      id="form"
      action="https://codepen.io/pen/define"
      method="post"
      target="_self"
    >
      <input
        type="hidden"
        name="data"
        value='{"css":"html,\nbody,\n#mynetwork {\n  margin: 0px;\n  padding: 0px;\n}\n\n#mynetwork {\n  position: fixed;\n  left: 0px;\n  top: 0px;\n  bottom: 0px;\n  right: 50%;\n  min-height: 100vh;\n  border-right: 1px solid lightgray;\n  background: white;\n}\n\n#text {\n  position: absolute;\n  left: 50%;\n  padding: 1em;\n}\n\n#title {\n  margin-bottom: 5em;\n}\n","css_external":"","html":"<div id=\"text\">\n  <div id=\"title\">\n    <h1>Vis Network</h1>\n    <h2>Other</h2>\n    <h3>Popups</h3>\n  </div>\n\n  <p>Both nodes and edges can have popup shown when hovered by a cursor.</p>\n\n  <p>It is possible to use plain text:</p>\n  <pre><code>\nconst nodes = [{\n  id: 1,\n  title: \"Popup text\",\n}];\n      </code></pre>\n\n  <p>Alternatively an element can be supplied:</p>\n  <pre><code>\nconst element = document.createElement(\"div\");\n// Add child nodes, change styles…\n\nconst nodes = [{\n  id: 1,\n  title: element,\n}];\n      </code></pre>\n\n  <h4>XSS</h4>\n  <p>\n    In the past the popup was filled using innerHTML. It is still possible to\n    achieve similar behavior via an element.\n  </p>\n  <pre><code>\nfunction createHTMLTitle(html) {\n  var element = document.createElement(\"div\");\n  element.innerHTML = html;\n  return element;\n}\n      </code></pre>\n  <p>\n    Keep in mind though that this can lead to XSS attacks:\n    <input type=\"button\" onclick=\"addXSSNode()\" value=\"add XSS node.\" />\n  </p>\n</div>\n\n<div id=\"mynetwork\"></div>\n","js":"// You can supply an element as your title.\nvar titleElement = document.createElement(\"div\");\ntitleElement.style.border = \"1px solid gray\";\ntitleElement.style.height = \"10em\";\ntitleElement.style.width = \"10em\";\n\n// With arbitrary DOM structure underneath.\nvar titleElementInner = document.createElement(\"div\");\ntitleElementInner.style.height = \"1em\";\ntitleElementInner.style.width = \"1em\";\ntitleElementInner.style.background = \"red\";\ntitleElementInner.style.transition = \"all 1s ease-in-out\";\ntitleElement.appendChild(titleElementInner);\n\n// Even dynamic behavior is possible.\nsetInterval(function () {\n  titleElementInner.style.marginTop = Math.random() * 9 + \"em\";\n  titleElementInner.style.marginLeft = Math.random() * 9 + \"em\";\n}, 2000);\n\nvar nodes = new vis.DataSet([\n  {\n    id: 1,\n    label: \"Text\",\n    title: \"Plain text with no chance of <script>alert(&apos;XSS&apos;)</scr\" + \"ipt>!\",\n  },\n  { id: 2, label: \"Element\", title: titleElement },\n]);\n\nvar edges = new vis.DataSet([\n  { from: 1, to: 2, title: \"Edges work exactly the same.\" },\n]);\n\n// Instantiate our network object.\nvar container = document.getElementById(\"mynetwork\");\nvar data = {\n  nodes: nodes,\n  edges: edges,\n};\nvar options = {\n  nodes: {\n    shape: \"dot\",\n  },\n};\nnetwork = new vis.Network(container, data, options);\n\n// You can use the element to process HTML and execute JavaScript.\nfunction createHTMLTitle(html) {\n  var element = document.createElement(\"div\");\n  element.innerHTML = html;\n  return element;\n}\n\n// You can run this function by clicking the “add XSS node” button above.\nfunction addXSSNode() {\n  nodes.add({\n    label: \"XSS\",\n    title: createHTMLTitle(\n      \"HTML with a chance of \" +\n        &apos;<script>alert(\"Up to the specs, scripts shouldn\\&apos;t execute.\");</scr&apos; +\n        \"ipt>\" +\n        &apos;<img src=\"But that doesn\\&apos;t mean you\\&apos;re safe!\" onerror=\"alert(\\&apos;You\\\\\\&apos;ve been hacked, muhehehe!\\&apos;);\" alt=\"XSS\" />.&apos;,\n    ),\n  });\n}\n","js_external":"https://unpkg.com/vis-data@latest/peer/umd/vis-data.min.js;https://visjs.github.io/vis-network/peer/umd/vis-network.min.js","title":"Vis Network | Other | Popups"}'
      />
      <button id="open" alt="JSFiddle" title="JSFiddle">Open CodePen</button>
    </form>

    <script type="text/javascript">
      document.getElementById("open").click();
    </script>
  </body>
</html>
