<html>
  <head>
    <meta charset="utf-8" />
    <title>Vis Network | Other | Performance</title>
  </head>
  <body>
    <form
      id="form"
      action="https://jsfiddle.net/api/post/library/pure/"
      method="post"
      target="_self"
    >
      <input
        type="hidden"
        name="css"
        value="body {
  font: 10pt sans;
}
#mynetwork {
  width: 600px;
  height: 600px;
  border: 1px solid lightgray;
}

#message {
  color: darkred;
  max-width: 600px;
  font-size: 16px;
  cursor: pointer;
  text-decoration: underline;
}
"
      />
      <input
        type="hidden"
        name="html"
        value='&lt;p&gt;
  Generate a random network with nodes and edges.
&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;
&lt;form onsubmit="draw(); return false;"&gt;
  &lt;label for="nodeCount"&gt;Number of nodes:&lt;/label&gt;
  &lt;input id="nodeCount" type="text" value="25" style="width: 50px;" /&gt;
  &lt;input type="button" value="Go" onclick="draw()" /&gt;
&lt;/form&gt;
&lt;p&gt;&lt;/p&gt;
&lt;span id="message"&gt;&lt;/span&gt;
&lt;div id="mynetwork"&gt;&lt;/div&gt;
'
      />
      <input
        type="hidden"
        name="js"
        value='var nodes = null;
var edges = null;
var network = null;
var setSmooth = false;

function destroy() {
  if (network !== null) {
    network.destroy();
    network = null;
  }
}

function draw() {
  destroy();
  var nodeCount = document.getElementById("nodeCount").value;
  if (nodeCount &gt; 100) {
    document.getElementById("message").innerHTML =
      &apos;&lt;a onclick="disableSmoothCurves()"&gt;You may want to disable dynamic smooth curves for better performance with a large amount of nodes and edges. Click here to disable them.&lt;/a&gt;&apos;;
  } else if (setSmooth === false) {
    document.getElementById("message").innerHTML = "";
  }
  // create a network
  var container = document.getElementById("mynetwork");
  var data = getScaleFreeNetwork(nodeCount);
  var options = {
    physics: { stabilization: false },
  };
  network = new vis.Network(container, data, options);
}

function disableSmoothCurves() {
  setSmooth = true;
  network.setOptions({ edges: { smooth: { type: "continuous" } } });
  document.getElementById("message").innerHTML =
    &apos;&lt;a onclick="enableSmoothCurves()"&gt;Click here to reenable the dynamic smooth curves.&lt;/a&gt;&apos;;
}

function enableSmoothCurves() {
  setSmooth = false;
  document.getElementById("message").innerHTML =
    &apos;&lt;a onclick="disableSmoothCurves()"&gt;You may want to disable dynamic smooth curves for better performance with a large amount of nodes and edges. Click here to disable them.&lt;/a&gt;&apos;;
  network.setOptions({ edges: { smooth: { type: "dynamic" } } });
}

window.addEventListener("load", () =&gt; {
  draw();
});
'
      />
      <input
        type="hidden"
        name="resources"
        value="https://visjs.github.io/vis-network/standalone/umd/vis-network.min.js,https://unpkg.com/alea@1.0.0/alea.js,https://visjs.github.io/vis-network/examples/network/exampleUtil.js"
      />
      <input
        type="hidden"
        name="title"
        value="Vis Network | Other | Performance"
      />
      <input type="hidden" name="wrap" value="b" />
      <button id="open" alt="JSFiddle" title="JSFiddle">
        Open JSFiddle
      </button>
    </form>

    <script type="text/javascript">
      document.getElementById("open").click();
    </script>
  </body>
</html>
