<html>
  <head>
    <meta charset="utf-8" />
    <title>Vis Network | Other | Performance</title>
  </head>
  <body>
    <form
      id="form"
      action="https://jsfiddle.net/api/post/library/pure/"
      method="post"
      target="_self"
    >
      <input
        type="hidden"
        name="css"
        value="body {
  font: 10pt sans;
}
#mynetwork {
  width: 600px;
  height: 600px;
  border: 1px solid lightgray;
}
"
      />
      <input
        type="hidden"
        name="html"
        value='<p>Generate a random network with nodes and edges.</p>
<form onsubmit="draw(); return false;">
  <label for="nodeCount">Number of nodes:</label>
  <input id="nodeCount" type="text" value="25" style="width: 50px" />
  <input type="button" value="Go" onclick="draw()" />
</form>

<a
  id="disable-smooth-curves"
  style="display: none"
  href="#"
  onclick="disableSmoothCurves()"
>
  You may want to disable dynamic smooth curves for better performance with a
  large amount of nodes and edges. Click here to disable them.
</a>
<a
  id="enable-smooth-curves"
  style="display: none"
  href="#"
  onclick="enableSmoothCurves()"
>
  Click here to reenable the dynamic smooth curves.
</a>

<div id="mynetwork"></div>
'
      />
      <input
        type="hidden"
        name="js"
        value='var nodes = null;
var edges = null;
var network = null;
var setSmooth = false;

function destroy() {
  if (network !== null) {
    network.destroy();
    network = null;
  }
}

function draw() {
  destroy();
  var nodeCount = document.getElementById("nodeCount").value;
  if (nodeCount > 100) {
    document.getElementById("disable-smooth-curves").style.display = "inline";
    document.getElementById("enable-smooth-curves").style.display = "none";
  } else if (setSmooth === false) {
    document.getElementById("disable-smooth-curves").style.display = "none";
    document.getElementById("enable-smooth-curves").style.display = "none";
  }
  // create a network
  var container = document.getElementById("mynetwork");
  var data = getScaleFreeNetwork(nodeCount);
  var options = {
    physics: { stabilization: false },
  };
  network = new vis.Network(container, data, options);
}

function disableSmoothCurves() {
  setSmooth = true;
  network.setOptions({ edges: { smooth: { type: "continuous" } } });
  document.getElementById("disable-smooth-curves").style.display = "none";
  document.getElementById("enable-smooth-curves").style.display = "inline";
}

function enableSmoothCurves() {
  setSmooth = false;
  document.getElementById("disable-smooth-curves").style.display = "inline";
  document.getElementById("enable-smooth-curves").style.display = "none";
  network.setOptions({ edges: { smooth: { type: "dynamic" } } });
}

window.addEventListener("load", () => {
  draw();
});
'
      />
      <input
        type="hidden"
        name="resources"
        value="https://visjs.github.io/vis-network/standalone/umd/vis-network.min.js,https://unpkg.com/alea@1.0.0/alea.js,https://visjs.github.io/vis-network/examples/network/exampleUtil.js"
      />
      <input
        type="hidden"
        name="title"
        value="Vis Network | Other | Performance"
      />
      <input type="hidden" name="wrap" value="b" />
      <button id="open" alt="JSFiddle" title="JSFiddle">Open JSFiddle</button>
    </form>

    <script type="text/javascript">
      document.getElementById("open").click();
    </script>
  </body>
</html>
