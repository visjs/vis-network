<html>
  <head>
    <meta charset="utf-8" />
    <title>Vis Network | Data | Importing from Gephi (JSON)</title>
  </head>
  <body>
    <form
      id="form"
      action="https://codepen.io/pen/define"
      method="post"
      target="_self"
    >
      <input
        type="hidden"
        name="data"
        value='{"css":"#mynetwork {\n  width: 800px;\n  height: 800px;\n  border: 1px solid lightgray;\n}\n\ndiv.nodeContent {\n  position: relative;\n  border: 1px solid lightgray;\n  width: 480px;\n  height: 780px;\n  margin-top: -802px;\n  margin-left: 810px;\n  padding: 10px;\n}\n\npre {\n  padding: 5px;\n  margin: 5px;\n}\n\n.string {\n  color: green;\n}\n\n.number {\n  color: darkorange;\n}\n\n.boolean {\n  color: blue;\n}\n\n.null {\n  color: magenta;\n}\n\n.key {\n  color: red;\n}\n","css_external":"","html":"<h2>Dynamic Data - Importing from Gephi (JSON)</h2>\n\n<div style=\"width: 700px; font-size: 14px; text-align: justify\">\n  This example shows how to import a JSON file exported by Gephi. The two\n  options available for the import are available through the checkboxes. You can\n  download the Gephi JSON exporter here:\n  <a href=\"https://marketplace.gephi.org/plugin/json-exporter/\" target=\"_blank\"\n    >https://marketplace.gephi.org/plugin/json-exporter/</a\n  >. All of Gephi&apos;s attributes are also contained within the node elements. This\n  means you can access all of this data through the DataSet.\n  <br />\n</div>\n\n<p>\n  <label\n    ><input type=\"checkbox\" id=\"fixed\" checked=\"checked\" /> Fix in place after\n    import.</label\n  ><br />\n  <label\n    ><input type=\"checkbox\" id=\"parseColor\" /> Parse the color instead of copy\n    (adds borders, highlights etc.)</label\n  >\n</p>\n\n<div id=\"mynetwork\"></div>\n<div class=\"nodeContent\">\n  <h4>Node Content:</h4>\n  <pre id=\"nodeContent\"></pre>\n</div>\n","js":"var nodes = new vis.DataSet();\nvar edges = new vis.DataSet();\nvar gephiImported;\nvar fixedCheckbox = document.getElementById(\"fixed\");\nfixedCheckbox.onchange = redrawAll;\n\nvar parseColorCheckbox = document.getElementById(\"parseColor\");\nparseColorCheckbox.onchange = redrawAll;\n\nvar nodeContent = document.getElementById(\"nodeContent\");\n\nvar container = document.getElementById(\"mynetwork\");\nvar data = {\n  nodes: nodes,\n  edges: edges,\n};\nvar options = {\n  nodes: {\n    shape: \"dot\",\n    font: {\n      face: \"Tahoma\",\n    },\n  },\n  edges: {\n    width: 0.15,\n    smooth: {\n      type: \"continuous\",\n    },\n  },\n  interaction: {\n    tooltipDelay: 200,\n    hideEdgesOnDrag: true,\n  },\n  physics: {\n    stabilization: false,\n    barnesHut: {\n      gravitationalConstant: -10000,\n      springConstant: 0.002,\n      springLength: 150,\n    },\n  },\n};\n\nglobalThis.network = new vis.Network(container, data, options);\nglobalThis.network.on(\"click\", function (params) {\n  if (params.nodes.length > 0) {\n    var data = nodes.get(params.nodes[0]); // get the data from selected node\n    nodeContent.innerText = JSON.stringify(data, undefined, 3); // show the data in the div\n  }\n});\n\n/**\n * This function fills the DataSets. These DataSets will update the network.\n */\nfunction redrawAll(gephiJSON) {\n  if (gephiJSON.nodes === undefined) {\n    gephiJSON = gephiImported;\n  } else {\n    gephiImported = gephiJSON;\n  }\n\n  nodes.clear();\n  edges.clear();\n\n  var fixed = fixedCheckbox.checked;\n  var parseColor = parseColorCheckbox.checked;\n\n  var parsed = vis.parseGephiNetwork(gephiJSON, {\n    fixed: fixed,\n    parseColor: parseColor,\n  });\n\n  // add the parsed data to the DataSets.\n  nodes.add(parsed.nodes);\n  edges.add(parsed.edges);\n\n  var data = nodes.get(2); // get the data from node 2 as example\n  nodeContent.innerText = JSON.stringify(data, undefined, 3); // show the data in the div\n  globalThis.network.fit(); // zoom to fit\n}\n\ntry {\n  const { default: gephiJSON } = await import(\n    \"../datasources/WorldCup2014.json\",\n    { with: { type: \"json\" } }\n  );\n  redrawAll(gephiJSON);\n} catch (error) {\n  console.error(error, \"Import of Gephi JSON failed\");\n}\n","js_external":"https://visjs.github.io/vis-network/standalone/umd/vis-network.min.js;https://unpkg.com/alea@1.0.0/alea.js","title":"Vis Network | Data | Importing from Gephi (JSON)"}'
      />
      <button id="open" alt="JSFiddle" title="JSFiddle">Open CodePen</button>
    </form>

    <script type="text/javascript">
      document.getElementById("open").click();
    </script>
  </body>
</html>
